{"version":3,"file":"login-7ae76a6f.js","sources":["../../../../pages/login.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"row mt-4\">\r\n\r\n    <div class=\"col-lg-6 mx-auto\" style=\"margin-top: 150px\">\r\n      <div class=\"card border-0 shadow\">\r\n        <div class=\"card-body pb-5\">\r\n          <h6 class=\"d-inline-block pb-2 mb-2\">ورود به سایت</h6>\r\n          <div id=\"mobileForm\">\r\n            <div class=\"row d-flex justify-content-start\" style=\"padding-right: 11px; padding-left: 11px\">\r\n              <div class=\"col-6\">\r\n                <button id=\"joo\" @click=\"selectScope('joo')\" class=\"w-100 btn btn-sm btn-primary me-2 mb-2\">کارجو\r\n                </button>\r\n              </div>\r\n              <div class=\"col-6\">\r\n                <button id=\"farma\" @click=\"selectScope('farma')\" class=\"w-100 btn btn-sm btn-outline-primary me-2 mb-2\">\r\n                  کارفرما\r\n                </button>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"input-group mt-2 mb-3 px-1\">\r\n              <input type=\"text\" class=\"form-control  form-control-sm\" minlength=\"11\" maxlength=\"11\"\r\n                     placeholder=\"شماره موبایل\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\">\r\n              <button class=\"btn btn-sm btn-outline-primary\" type=\"button\" id=\"button-addon2\" @click=\"getCode\">دریافت کد\r\n                تایید\r\n              </button>\r\n\r\n            </div>\r\n            <small>{{ message }}</small>\r\n          </div>\r\n\r\n\r\n          <div id=\"codeForm\" class=\"d-none\">\r\n            <small>کد تایید به موبایل شما پیامک شد. لطفا آنرا وارد کنید</small>\r\n\r\n            <div class=\"d-flex justify-content-between mt-3\" dir=\"ltr\">\r\n              <input type=\"text\" id=\"code1\" @input=\"autoTab($event)\"\r\n                     class=\"form-control form-control-sm mx-1 text-center\" minlength=\"1\" maxlength=\"1\">\r\n              <input type=\"text\" id=\"code2\" @input=\"autoTab($event)\"\r\n                     class=\"form-control form-control-sm mx-1 text-center\" minlength=\"1\" maxlength=\"1\">\r\n              <input type=\"text\" id=\"code3\" @input=\"autoTab($event)\"\r\n                     class=\"form-control form-control-sm mx-1 text-center\" minlength=\"1\" maxlength=\"1\">\r\n              <input type=\"text\" id=\"code4\" @input=\"autoTab($event)\"\r\n                     class=\"form-control form-control-sm mx-1 text-center\" minlength=\"1\" maxlength=\"1\">\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport {onMounted} from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    onMounted(() => {\r\n      document.getElementById(\"code1\").value = '';\r\n      document.getElementById(\"code2\").value = '';\r\n      document.getElementById(\"code3\").value = '';\r\n      document.getElementById(\"code4\").value = '';\r\n    });\r\n    const selectScope = (id) => {\r\n\r\n    }\r\n    const getCode = () => {\r\n\r\n      axios.post('http://127.0.0.1:8000/api/otp/mobile', {mobile: '09190691798', scope: 'user'}, {progress: false})\r\n          .then((res) => {\r\n            if (res.status === 200) {\r\n              document.getElementById('mobileForm').classList.add('d-none');\r\n              document.getElementById('codeForm').classList.remove('d-none');\r\n            }\r\n          }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n\r\n    }\r\n    const autoTab = (e) => {\r\n      let code =\r\n          document.getElementById(\"code1\").value +\r\n          document.getElementById(\"code2\").value +\r\n          document.getElementById(\"code3\").value +\r\n          document.getElementById(\"code4\").value;\r\n\r\n      if (code.length == 4) {\r\n\r\n        axios.post('http://127.0.0.1:8000/api/mobile/login', {\r\n          mobile: '09190691798', scope: 'user',\r\n          password: document.getElementById(\"code1\").value + document.getElementById(\"code2\").value + document.getElementById(\"code3\").value + document.getElementById(\"code4\").value\r\n        }, {progress: false})\r\n            .then((res) => {\r\n              if (res.status === 200) {\r\n                window.location = '/';\r\n              }\r\n            }).catch((err) => {\r\n          console.log(err)\r\n        })\r\n\r\n      }\r\n\r\n      if (e.target.value.length === e.target.maxLength) {\r\n        e.target.nextElementSibling?.focus();\r\n      }\r\n    }\r\n\r\n    return {\r\n      autoTab, selectScope, getCode\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"names":["_ssrRenderAttrs","_mergeProps"],"mappings":";;;;;;;;;;;;;;;;AA2DA,MAAA,YAAA;AAAA,EACU,QAAA;;IASN;AACA,UAAA,UAAA,MAAA;;AAIQ,YAAA,IAAA,WAAA,KAAA;;AAEE,mBAAA,eAAA,UAAA,EAAA,UAAA,OAAA,QAAA;AAAA,QACF;AAAA,MACF,CAAA,EAAA,MAAA,CAAA,QAAA;AACF,gBAAA,IAAA,GAAA;AAAA;IAIJ;AACA,UAAA,UAAA,CAAA,MAAA;;AACE,UAAA,OACI,SAAA,eAAA,OAAA,EAAA,QACA,SAAA,eAAA,OAAA,EAAA,QACA,SAAA,eAAA,OAAA,EAAA,QACA,SAAA,eAAA,OAAA,EAAA;AAEJ,UAAA,KAAA,UAAA,GAAA;;UAGI,QAAA;AAAA,UAAA,OAAA;AAAA,UACA,UAAA,SAAA,eAAA,OAAA,EAAA,QAAA,SAAA,eAAA,OAAA,EAAA,QAAA,SAAA,eAAA,OAAA,EAAA,QAAA,SAAA,eAAA,OAAA,EAAA;AAAA,QACF,GAAA,EAAA,UAAA,MAAA,CAAA;AAEM,cAAA,IAAA,WAAA,KAAA;AACE,mBAAA,WAAA;AAAA,UACF;AAAA,QACF,CAAA,EAAA,MAAA,CAAA,QAAA;AACF,kBAAA,IAAA,GAAA;AAAA;MAGJ;;AAGE,gBAAA,OAAA,uBAAA,mBAAA;AAAA,MACF;AAAA,IACF;AAEA,WAAA;AAAA;;;IAEA;AAAA,EACF;AACF;;eAlHOA,eAAAC,WAAA,EAAA,OAAA,WAAA,GAAA,MAAA,CAAA;;;;;;;;;"}